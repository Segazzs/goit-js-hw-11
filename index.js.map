{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesByQuery(query) {\n  let apiKey = '51493488-12143edce1099078d847fb8bb';\n  const encodedQuery = encodeURIComponent(query);\n  return `https://pixabay.com/api/?key=${apiKey}&q=${encodedQuery}&orientation=horizontal&image_type=photo&safesearch=true&max_height=200&min_width=400`;\n}\n","export function createGallery(images) {\n  let item = images\n    .map(elem => {\n      let imgUrl = elem.webformatURL;\n      let bigImg = elem.largeImageURL;\n\n      return `<li class=\"gallery-item\"><a href=\"${bigImg}\"><img src=\"${imgUrl}\"></a></li>`;\n    })\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.classList.add('gallery');\n  ul.insertAdjacentHTML('beforeend', item);\n  return ul;\n}\nexport function clearGallery() {\n  const oldGallery = document.querySelector('.gallery');\n  if (oldGallery) {\n    oldGallery.remove();\n  }\n}\nexport function showLoader() {\n  let loader = document.createElement('p');\n  loader.innerHTML = 'Loading images, please wait...';\n  return loader;\n}\nexport function hideLoader() {\n  let p = document.querySelector('p');\n  p.remove();\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet form = document.querySelector('.form');\n\nform.addEventListener('submit', eve => {\n  eve.preventDefault();\n  clearGallery();\n  let value = eve.target.elements['search-text'].value;\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Write a text',\n    });\n  } else {\n    const loader = showLoader();\n    form.insertAdjacentElement('beforeend', loader);\n    axios\n      .get(getImagesByQuery(value))\n      .then(response => {\n        form.insertAdjacentElement(\n          'afterend',\n          createGallery(response.data.hits)\n        );\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n\n        lightbox.on('shown.simplelightbox', function () {\n          console.log('Зображення видно');\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n});\n"],"names":["getImagesByQuery","query","apiKey","encodedQuery","createGallery","images","item","elem","imgUrl","ul","clearGallery","oldGallery","showLoader","loader","hideLoader","form","eve","value","iziToast","axios","response","SimpleLightbox","error"],"mappings":"owBAAO,SAASA,EAAiBC,EAAO,CACtC,IAAIC,EAAS,qCACb,MAAMC,EAAe,mBAAmBF,CAAK,EAC7C,MAAO,gCAAgCC,CAAM,MAAMC,CAAY,uFACjE,CCJO,SAASC,EAAcC,EAAQ,CACpC,IAAIC,EAAOD,EACR,IAAIE,GAAQ,CACX,IAAIC,EAASD,EAAK,aAGlB,MAAO,qCAFMA,EAAK,aAEgC,eAAeC,CAAM,aACzE,CAAC,EACA,KAAK,EAAE,EAEV,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,OAAAA,EAAG,UAAU,IAAI,SAAS,EAC1BA,EAAG,mBAAmB,YAAaH,CAAI,EAChCG,CACT,CACO,SAASC,GAAe,CAC7B,MAAMC,EAAa,SAAS,cAAc,UAAU,EAChDA,GACFA,EAAW,OAAM,CAErB,CACO,SAASC,GAAa,CAC3B,IAAIC,EAAS,SAAS,cAAc,GAAG,EACvC,OAAAA,EAAO,UAAY,iCACZA,CACT,CACO,SAASC,GAAa,CACnB,SAAS,cAAc,GAAG,EAChC,OAAM,CACV,CCfA,IAAIC,EAAO,SAAS,cAAc,OAAO,EAEzCA,EAAK,iBAAiB,SAAUC,GAAO,CACrCA,EAAI,eAAc,EAClBN,EAAY,EACZ,IAAIO,EAAQD,EAAI,OAAO,SAAS,aAAa,EAAE,MAC/C,GAAI,CAACC,EACHC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,cACf,CAAK,MACI,CACL,MAAML,EAASD,EAAU,EACzBG,EAAK,sBAAsB,YAAaF,CAAM,EAC9CM,EACG,IAAInB,EAAiBiB,CAAK,CAAC,EAC3B,KAAKG,GAAY,CAChBL,EAAK,sBACH,WACAX,EAAcgB,EAAS,KAAK,IAAI,CAC1C,EACyB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,EAEQ,GAAG,uBAAwB,UAAY,CAC9C,QAAQ,IAAI,kBAAkB,CAChC,CAAC,CACH,CAAC,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACnB,CAAC,EACA,QAAQ,IAAM,CACbR,EAAU,CACZ,CAAC,CACL,CACF,CAAC"}