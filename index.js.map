{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesByQuery(query) {\n  const apiKey = '51493488-12143edce1099078d847fb8bb';\n  const encodedQuery = encodeURIComponent(query.trim());\n\n  return `https://pixabay.com/api/?key=${apiKey}&q=${encodedQuery}&orientation=horizontal&image_type=photo&safesearch=true`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery = document.querySelector('.gallery');\nlet loader = document.querySelector('.loader');\n\nlet lightbox;\n\nexport function createGallery(images) {\n  let item = images\n    .map(elem => {\n      let imgUrl = elem.webformatURL;\n      let bigImg = elem.largeImageURL;\n      let likes = elem.likes;\n      let views = elem.views;\n      let comments = elem.comments;\n      let downloads = elem.downloads;\n\n      return `\n      <li class=\"gallery-item\">\n      <a href=\"${bigImg}\">\n        <img src=\"${imgUrl}\" alt=\"\" />\n        <ul class=\"img_info\">\n          <li>\n            <p class=\"info_title\">Likes</p>\n            <p>${likes}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Views</p>\n            <p>${views}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Comments</p>\n            <p>${comments}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Downloads</p>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </a>\n    </li>\n      `;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', item);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function clearGallery() {\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('none');\n  }\n}\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('none');\n  }\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet form = document.querySelector('.form');\n\nform.addEventListener('submit', eve => {\n  showLoader();\n  clearGallery();\n  eve.preventDefault();\n  let value = eve.target.elements['search-text'].value;\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Write a text',\n    });\n  } else {\n    axios\n      .get(getImagesByQuery(value))\n      .then(response => {\n        createGallery(response.data.hits);\n        if (response.data.hits.length === 0) {\n          throw new Error('No images found');\n        }\n      })\n      .catch(error => {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n});\n"],"names":["getImagesByQuery","query","apiKey","encodedQuery","gallery","lightbox","createGallery","images","item","elem","imgUrl","bigImg","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","eve","value","axios","response","error","iziToast"],"mappings":"owBAAO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAS,qCACTC,EAAe,mBAAmBF,EAAM,KAAI,CAAE,EAEpD,MAAO,gCAAgCC,CAAM,MAAMC,CAAY,0DACjE,CCFA,IAAIC,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAE7C,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,IAAIC,EAAOD,EACR,IAAIE,GAAQ,CACX,IAAIC,EAASD,EAAK,aACdE,EAASF,EAAK,cACdG,EAAQH,EAAK,MACbI,EAAQJ,EAAK,MACbK,EAAWL,EAAK,SAChBM,EAAYN,EAAK,UAErB,MAAO;AAAA;AAAA,iBAEIE,CAAM;AAAA,oBACHD,CAAM;AAAA;AAAA;AAAA;AAAA,iBAITE,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMtB,CAAC,EACA,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,aAAcI,CAAI,EAExCH,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CACO,SAASC,GAAe,CACzBb,IACFA,EAAQ,UAAY,GAExB,CACO,SAASc,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,MAAM,CAElC,CACO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,MAAM,CAE/B,CC5DA,IAAIE,EAAO,SAAS,cAAc,OAAO,EAEzCA,EAAK,iBAAiB,SAAUC,GAAO,CACrCJ,EAAU,EACVD,EAAY,EACZK,EAAI,eAAc,EAClB,IAAIC,EAAQD,EAAI,OAAO,SAAS,aAAa,EAAE,MAC1CC,EAMHC,EACG,IAAIxB,EAAiBuB,CAAK,CAAC,EAC3B,KAAKE,GAAY,CAEhB,GADAnB,EAAcmB,EAAS,KAAK,IAAI,EAC5BA,EAAS,KAAK,KAAK,SAAW,EAChC,MAAM,IAAI,MAAM,iBAAiB,CAErC,CAAC,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,CACH,CAAC,EACA,QAAQ,IAAM,CACbP,EAAU,CACZ,CAAC,EArBHO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,cACf,CAAK,CAoBL,CAAC"}