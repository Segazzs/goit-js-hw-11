{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesByQuery(query) {\n  let apiKey = '51493488-12143edce1099078d847fb8bb';\n  const encodedQuery = encodeURIComponent(query);\n  return `https://pixabay.com/api/?key=${apiKey}&q=${encodedQuery}&orientation=horizontal&image_type=photo&safesearch=true&max_height=200&min_width=400`;\n}\n","export function createGallery(images) {\n  console.log(images);\n  let item = images\n    .map(elem => {\n      let imgUrl = elem.webformatURL;\n      let bigImg = elem.largeImageURL;\n      let likes = elem.likes;\n      let views = elem.views;\n      let comments = elem.comments;\n      let downloads = elem.downloads;\n\n      return `<ul>\n      <li class=\"gallery-item\">\n      <a href=\"${bigImg}\">\n        <img src=\"${imgUrl}\" alt=\"\" />\n        <ul class=\"img_info\">\n          <li>\n            <p class=\"info_title\">Likes</p>\n            <p>${likes}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Views</p>\n            <p>${views}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Comments</p>\n            <p>${comments}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Downloads</p>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </a>\n    </li>\n      </ul>\n      \n      `;\n    })\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.classList.add('gallery');\n  ul.insertAdjacentHTML('beforeend', item);\n\n  return ul;\n}\nexport function clearGallery() {\n  const oldGallery = document.querySelector('.gallery');\n  if (oldGallery) {\n    oldGallery.remove();\n  }\n}\nexport function showLoader() {\n  let loader = document.createElement('span');\n  loader.classList.add('loader');\n  return loader;\n}\nexport function hideLoader() {\n  let span = document.querySelector('.loader');\n  span.remove();\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet form = document.querySelector('.form');\n\nlet lightbox;\n\nform.addEventListener('submit', eve => {\n  const loader = showLoader();\n  eve.preventDefault();\n  clearGallery();\n  let value = eve.target.elements['search-text'].value;\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Write a text',\n    });\n  } else {\n    form.insertAdjacentElement('beforeend', loader);\n    axios\n      .get(getImagesByQuery(value))\n      .then(response => {\n        hideLoader();\n\n        form.insertAdjacentElement(\n          'afterend',\n          createGallery(response.data.hits)\n        );\n        console.log(response.data);\n        if (!lightbox) {\n          lightbox = new SimpleLightbox('.gallery a', {\n            captions: true,\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n        } else {\n          lightbox.refresh();\n        }\n      })\n      .catch(error => {})\n      .finally(() => {});\n  }\n});\n"],"names":["getImagesByQuery","query","apiKey","encodedQuery","createGallery","images","item","elem","imgUrl","bigImg","likes","views","comments","downloads","ul","clearGallery","oldGallery","showLoader","loader","hideLoader","form","lightbox","eve","value","axios","response","SimpleLightbox","error","iziToast"],"mappings":"owBAAO,SAASA,EAAiBC,EAAO,CACtC,IAAIC,EAAS,qCACb,MAAMC,EAAe,mBAAmBF,CAAK,EAC7C,MAAO,gCAAgCC,CAAM,MAAMC,CAAY,uFACjE,CCJO,SAASC,EAAcC,EAAQ,CACpC,QAAQ,IAAIA,CAAM,EAClB,IAAIC,EAAOD,EACR,IAAIE,GAAQ,CACX,IAAIC,EAASD,EAAK,aACdE,EAASF,EAAK,cACdG,EAAQH,EAAK,MACbI,EAAQJ,EAAK,MACbK,EAAWL,EAAK,SAChBM,EAAYN,EAAK,UAErB,MAAO;AAAA;AAAA,iBAEIE,CAAM;AAAA,oBACHD,CAAM;AAAA;AAAA;AAAA;AAAA,iBAITE,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQtB,CAAC,EACA,KAAK,EAAE,EAEV,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,OAAAA,EAAG,UAAU,IAAI,SAAS,EAC1BA,EAAG,mBAAmB,YAAaR,CAAI,EAEhCQ,CACT,CACO,SAASC,GAAe,CAC7B,MAAMC,EAAa,SAAS,cAAc,UAAU,EAChDA,GACFA,EAAW,OAAM,CAErB,CACO,SAASC,GAAa,CAC3B,IAAIC,EAAS,SAAS,cAAc,MAAM,EAC1C,OAAAA,EAAO,UAAU,IAAI,QAAQ,EACtBA,CACT,CACO,SAASC,GAAa,CAChB,SAAS,cAAc,SAAS,EACtC,OAAM,CACb,CC/CA,IAAIC,EAAO,SAAS,cAAc,OAAO,EAErCC,EAEJD,EAAK,iBAAiB,SAAUE,GAAO,CACrC,MAAMJ,EAASD,EAAU,EACzBK,EAAI,eAAc,EAClBP,EAAY,EACZ,IAAIQ,EAAQD,EAAI,OAAO,SAAS,aAAa,EAAE,MAC1CC,GAMHH,EAAK,sBAAsB,YAAaF,CAAM,EAC9CM,EACG,IAAIxB,EAAiBuB,CAAK,CAAC,EAC3B,KAAKE,GAAY,CAChBN,EAAU,EAEVC,EAAK,sBACH,WACAhB,EAAcqB,EAAS,KAAK,IAAI,CAC1C,EACQ,QAAQ,IAAIA,EAAS,IAAI,EACpBJ,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GAC1B,CAAW,CAIL,CAAC,EACA,MAAMC,GAAS,CAAC,CAAC,EACjB,QAAQ,IAAM,CAAC,CAAC,GA3BnBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,cACf,CAAK,CA0BL,CAAC"}